<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn"
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI"
             typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath"
             targetNamespace="http://www.activiti.org/processdef">
    <process id="request" name="请假流程" isExecutable="true" >
        <endEvent id="endRequest" name="结束请假流程"/>
        <sequenceFlow sourceRef="startRequest" targetRef="secondManageAduit" id="startRequest-secondManageAduit"/>
        <sequenceFlow sourceRef="secondManageAduit" targetRef="departmentManageAduit"
                      id="secondManageAduit-departmentManageAduit"/>
        <sequenceFlow sourceRef="departmentManageAduit" targetRef="humanResourceRecords"
                      id="departmentManageAduit-humanResourceRecords"/>
        <sequenceFlow sourceRef="humanResourceRecords" targetRef="endRequest" id="humanResourceRecords-endRequest"/>

        <userTask id="secondManageAduit" name="二级主管审批" activiti:assignee="${gm}" />
        <userTask id="departmentManageAduit" name="部门经理审批" activiti:assignee="${dm}"/>
        <userTask id="humanResourceRecords" name="人事归档" activiti:assignee="${hr}"/>

        <startEvent id="startRequest" name="开始请假流程"/>
    </process>
    <bpmndi:BPMNDiagram id="BPMNDiagram_request">
        <bpmndi:BPMNPlane bpmnElement="request" id="BPMNPlane_request">

            <bpmndi:BPMNShape bpmnElement="startRequest">
                <omgdc:Bounds height="48.0" width="48.0" x="223.0" y="34.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="endRequest">
                <omgdc:Bounds height="48.0" width="48.0" x="181.0" y="565.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="secondManageAduit">
                <omgdc:Bounds height="48.0" width="120.0" x="174.0" y="154.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="departmentManageAduit">
                <omgdc:Bounds height="48.0" width="120.0" x="180.0" y="282.0"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="humanResourceRecords">
                <omgdc:Bounds height="48.0" width="120.0" x="181.0" y="412.0"/>
            </bpmndi:BPMNShape>

            <bpmndi:BPMNEdge bpmnElement="startRequest-secondManageAduit">
                <omgdi:waypoint x="247.0" y="58.0"/>
                <omgdi:waypoint x="234.0" y="178.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="secondManageAduit-departmentManageAduit">
                <omgdi:waypoint x="234.0" y="178.0"/>
                <omgdi:waypoint x="240.0" y="306.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="departmentManageAduit-humanResourceRecords">
                <omgdi:waypoint x="240.0" y="306.0"/>
                <omgdi:waypoint x="241.0" y="436.0"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="humanResourceRecords-endRequest">
                <omgdi:waypoint x="241.0" y="436.0"/>
                <omgdi:waypoint x="205.0" y="589.0"/>
            </bpmndi:BPMNEdge>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</definitions>
